<!DOCTYPE html>
<html>
	<head>
		<meta charset="utf-8">
		<title>DOM编程-关于正则表达式</title>
	</head>
	<body>
		<script type="text/javascript">
			window.onload=function(){
				document.getElementById("btn").onclick = function(){
				
					var emailText = document.getElementById("email").value;
					
					//var regExp = /^([a-z0-9_\.-]+)@([\da-z\.-]+)\.([a-z\.]{2,6})$/;
					//var regExp = /^\\w+([-+.]\\w+)*@\\w+([-.]\\w+)*\\.\\w+([-.]\\w+)*$/
					//var regExp = /^\w+([-+.]\w+)*@\w+([-.]\w+)*\.\w+([-.]\w+)*$/;
					var emailRegExp = /^\w+([-+.]\w+)*@\w+([-.]\w+)*\.\w+([-.]\w+)*$/;
					var ok = emailRegExp.test(emailText);
					if(!ok){
						document.getElementById("emailError").innerText = "邮箱不合法！";
					}else{
						document.getElementById("emailError").innerText = "邮箱合法";
					}
					
					document.getElementById("email").onfocus = function(){//这里的function误写成了funtion，导致调试一下午。牢记！学会用火狐浏览器F12调试。
						document.getElementById("emailError").innerText="";
					}
				}
			}
		</script>
		
		<input type="text" id="email"/>
		<span style="color: red; font-size: 12px;" id="emailError"></span>
		<br>
		<input type="button" value = "确认邮箱" id="btn"/>

	</body>
</html>
